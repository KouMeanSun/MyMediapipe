//
// Created by GMY on 2022/4/1.
//

#ifndef MEDIAPIPE_MASTER_POSETRACKINGAPI_H
#define MEDIAPIPE_MASTER_POSETRACKINGAPI_H



#define EXPORT

/* 定义动态链接库dll的导出 */
#include <malloc.h>
#ifdef _WIN32
#ifdef EXPORT
#define EXPORT_API __declspec(dllexport)
#else
#define EXPORT_API __declspec(dllimport)
#endif
#else
#include <stdlib.h>

#ifdef EXPORT
#define EXPORT_API __attribute__((visibility ("default")))
#else
#endif

#endif


#ifdef __cplusplus
extern "C" {
#endif

#ifndef EXPORT_API
#define EXPORT_API
#endif


struct Point2D;

/*
@brief 初始化Google Mediapipe
@param[in] model_path 需要加载的模型路径
@return 返回操作成功或者失败
    0 失败
    1 成功
*/
EXPORT_API int MediapipePoseTrackingInit(const char* model_path);

/*
@brief 检测视频帧
@param[in] image_width 视频帧宽度
@param[in] image_height 视频帧高度
@param[in] image_data 视频帧数据
@param[in] show_result_image 是否显示结果图片
@param[out] gesture_result - 手势识别结果
@return 返回操作成功或者失败
    0 失败
    1 成功
*/
EXPORT_API int MediapipePoseTrackingDetectFrameDirect(int image_width, int image_height, void* image_data, int* detect_result, Point2D* PoseLandmarks, Point2D* LeftHandLandmarks, Point2D* RightHandLandmarks, bool& isGestureOK);

/*
@brief Google Mediapipe释放
@return 返回操作成功或者失败
    0 失败
    1 成功
*/
EXPORT_API int MediapipePoseTrackingRelease();

EXPORT_API int Mediapipe_Hand_Tracking_Box_Register(int hotBoxLeftTopX,int hotBoxLeftTopY,int hotBoxRightBottomX,int hotBoxRightBottomY ,int okGester);


#ifdef __cplusplus
}
#endif

#endif //MEDIAPIPE_MASTER_POSETRACKINGAPI_H
